<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>TourEast-Disaster Alerts</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

  html, body {
    margin: 0; padding: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #0b2a5a, #081c3a, #0a244f, #123a6d);
    background-size: 400% 400%;
    animation: bgGradient 20s ease infinite;
    color: #a8cfff;
    height: 100%;
  }

  @keyframes bgGradient {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }

  body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    padding: 1.25rem 1.3rem 2rem;
    gap: 1rem;
  }

  h1 {
    font-weight: 700;
    font-size: 2.25rem;
    text-align: center;
    color: #6ab0ffcc;
    text-shadow: 0 0 14px #2860afcc;
    margin: 0;
    animation: fadeSlideDown 1.2s ease forwards;
  }

  @keyframes fadeSlideDown {
    0% {opacity:0; transform: translateY(-30px);}
    100% {opacity:1; transform: translateY(0);}
  }

  .controls {
    max-width: 460px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    gap: 0.7rem;
    animation: fadeSlideUp 1.5s ease forwards;
  }
  @keyframes fadeSlideUp {
    0% {opacity:0; transform: translateY(30px);}
    100% {opacity:1; transform: translateY(0);}
  }
  input[type="text"] {
    flex-grow: 1;
    padding: 0.65rem 0.85rem;
    font-size: 1rem;
    border-radius: 25px;
    border: none;
    outline: none;
    background: rgba(10, 40, 75, 0.7);
    color: #cadfffcc;
    box-shadow: inset 0 0 11px #3a79dfcc;
    transition: background-color 0.3s ease;
  }
  input::placeholder {
    color: #a4c3ffbb;
  }
  input[type="text"]:focus {
    background-color: rgba(25, 95, 213, 0.3);
    box-shadow: inset 0 0 18px 3px #1a5fccdd;
  }

  button {
    min-width: 100px;
    background: #007affcc;
    border: none;
    border-radius: 25px;
    color: #e5f1ff;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 0 20px 4px #0a59a5cc;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    padding: 0.6rem 0.8rem;
    user-select: none;
  }
  button:hover, button:focus {
    background-color: #008dffcc;
    box-shadow: 0 0 30px 7px #157affdc;
    outline: none;
  }

  #alertsList {
    max-width: 460px;
    margin: 0 auto;
    background: rgba(10, 23, 51, 0.9);
    border-radius: 20px;
    box-shadow: 0 0 28px 4px #2c60b8cc;
    padding: 1rem 1.1rem;
    overflow-y: auto;
    max-height: 350px;
  }

  #alertsList h2 {
    margin: 0 0 0.7rem;
    font-weight: 700;
    font-size: 1.5rem;
    color: #69aaffcc;
    text-shadow: 0 0 12px #144285cc;
  }

  .alertItem {
    background: rgba(0, 50, 110, 0.9);
    border-radius: 15px;
    padding: 12px 15px;
    margin-bottom: 0.8rem;
    box-shadow: 0 0 8px 1px #0d3b7eaa;
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.5s ease;
    user-select:none;
  }
  .alertItem:hover, .alertItem:focus {
    background: #1962d9cc;
    box-shadow: 0 0 20px 7px #1d6ffdcc;
    outline: none;
  }

  .alertDate {
    font-size: 0.85rem;
    font-weight: 600;
    color: #9cc7ffcc;
    margin-bottom: 5px;
  }

  .alertTitle {
    font-size: 1.15rem;
    font-weight: 700;
    color: #a3c4ffcc;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  .alertDesc {
    font-size: 0.9rem;
    color: #bed5ffcc;
    margin-top: 6px;
    max-height: 5rem;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  @media (max-width: 400px) {
    #alertsList {
      max-height: 280px;
    }
    button {
      min-width: 90px;
      font-size: 0.9rem;
      padding: 0.55rem 0.65rem;
    }
    input[type="text"] {
      font-size: 0.95rem;
    }
  }
</style>
</head>
<body>
  <h1>TourEast-Disaster Alerts</h1>
  <div class="controls" role="search" aria-label="Search alerts by location">
    <input type="text" id="locationInput" placeholder="Enter location to filter alerts" aria-label="Enter location"/>
    <button id="filterBtn" aria-label="Filter alerts by location">Filter Alerts</button>
  </div>
  <section id="alertsList" aria-live="polite" aria-atomic="true" tabindex="0" aria-label="List of active disaster alerts near location"></section>

  <script>
    const allAlerts = [
      {title: 'Flood Warning in Assam', description: 'Heavy rainfall causing flood in Kamrup district.', pubDate: '2025-09-18T08:00:00+05:30'},
      {title: 'Cyclone Alert in Odisha', description: 'Cyclone approaching coastal areas of Puri and Khurda.', pubDate: '2025-09-19T15:30:00+05:30'},
      {title: 'Heat Wave Advisory in Rajasthan', description: 'Extreme temperatures expected in Jaipur and Ajmer.', pubDate: '2025-09-20T10:00:00+05:30'},
      {title: 'Rain Alert near Delhi', description: 'Humid Winds felt in Delhi NCR region.', pubDate: '2025-09-17T22:45:00+05:30'},
      {title: 'Landslide Warning in Himachal Pradesh', description: 'Heavy landslides reported near Manali.', pubDate: '2025-09-16T18:00:00+05:30'}
    ];

    const alertsList = document.getElementById('alertsList');
    const locationInput = document.getElementById('locationInput');
    const filterBtn = document.getElementById('filterBtn');

    function formatDate(dateStr) {
      const d = new Date(dateStr);
      if(isNaN(d)) return dateStr;
      return d.toLocaleString('en-IN', {
        day: 'numeric', month: 'short', year: 'numeric',
        hour: '2-digit', minute: '2-digit', hour12: true
      });
    }

    function renderAlerts(alerts) {
      if(!alerts.length){
        alertsList.innerHTML = '<p style="text-align:center; font-size:1.2rem; padding:1.5rem; color:#c2c2c2;">No alerts found for this location.</p>';
        return;
      }
      alertsList.innerHTML = `<h2>${alerts.length} Alert${alerts.length > 1 ? 's' : ''}</h2>` + 
        alerts.map((alert, i) => `
          <article tabindex="0" class="alertItem" role="button" aria-pressed="false" data-index="${i}" title="Click to show alert details">
            <div class="alertDate">${formatDate(alert.pubDate)}</div>
            <div class="alertTitle">${alert.title}</div>
            <div class="alertDesc">${alert.description.length > 130 ? alert.description.slice(0, 127) + '...' : alert.description}</div>
          </article>
        `).join('');
    }

    function filterAlertsByLocation(keyword) {
      if(!keyword) return allAlerts;
      const kw = keyword.trim().toLowerCase();
      return allAlerts.filter(alert => 
        alert.title.toLowerCase().includes(kw) || 
        alert.description.toLowerCase().includes(kw)
      );
    }

    filterBtn.addEventListener('click', () => {
      const location = locationInput.value;
      const filtered = filterAlertsByLocation(location);
      renderAlerts(filtered);
    });

    alertsList.addEventListener('click', e => {
      const alertItem = e.target.closest('.alertItem');
      if(alertItem) {
        const index = Number(alertItem.getAttribute('data-index'));
        if(isNaN(index)) return;
        const alert = allAlerts[index];
        alert(`Alert: ${alert.title}\n\nDetails: ${alert.description}\n\nDate: ${formatDate(alert.pubDate)}`);
      }
    });

    // Render all initially
    renderAlerts(allAlerts);
  </script>
</body>
</html>
