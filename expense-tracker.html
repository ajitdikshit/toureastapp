<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="styles.css">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Expense Calculato</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');
  html, body {
    margin: 0; padding: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #182a55 50%, #253772 100%);
    color: #ddebff;
    min-height: 100%;
    height: 100%;
    box-sizing: border-box;
  }
  body {
    min-height: 100vh;
    padding: 0 0 2rem 0;
    background-attachment: fixed;
  }
  h1 {
    text-align: center;
    font-weight: 700;
    margin: 1.2rem 0 1.7rem 0;
    color: #70aaff;
    font-size: 2.3rem;
    text-shadow: 0 2px 30px #1975ffe0, 0 1px 1px #09194a;
    letter-spacing: 0.03em;
    user-select: none;
  }

  .main-card {
    max-width: 460px;
    margin: 0 auto 1.5rem;
    background: rgba(23,41,77,0.8);
    border-radius: 22px;
    box-shadow: 0 0 12px #24467acc, 0 1.5px 5px #1a2b4f70;
    padding: 2rem 1.3rem 1.2rem 1.3rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    backdrop-filter: blur(18px);
  }

  .add-place-form {
    display: flex;
    gap: 0.6rem;
    margin-bottom: 0.2rem;
  }
  .add-place-form input[type="text"] {
    flex: 1;
    padding: 0.7rem 1rem;
    font-size: 1.08rem;
    border: none;
    border-radius: 16px;
    background: rgba(49,83,176,0.16);
    color: #eaf6ff;
    box-shadow: 0 0 14px #2745b322 inset;
    outline: none;
    transition: background 0.18s;
  }
  .add-place-form input[type="text"]:focus {
    background: rgba(85,136,255,0.11);
  }
  .add-place-form button {
    background: linear-gradient(90deg,#50b8ff,#3b77fa 70%);
    color: white;
    font-weight: 700;
    font-size: 1.06rem;
    padding: 0.7rem 1.18rem;
    border: none; border-radius: 16px;
    cursor: pointer;
    box-shadow: 0 2px 15px #195dd944;
    transition: background 0.21s, box-shadow 0.21s;
  }
  .add-place-form button:hover,
  .add-place-form button:focus {
    background: linear-gradient(90deg,#3b77fa,#50b8ff 100%);
    box-shadow: 0 3px 19px #4391ffaa;
    outline: none;
  }

  .places-list {
    display: flex;
    flex-direction: column;
    gap: 1.13rem;
  }

  .place-card {
    background: rgba(34,53,103,0.6);
    border-radius: 15px;
    box-shadow: 0 2px 11px #2d476e66;
    padding: 0;
    overflow: hidden;
    transition: box-shadow 0.22s;
  }
  .place-header {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 1rem 1.1rem;
    transition: background 0.13s;
    justify-content: space-between;
    user-select: none;
    font-weight: 600;
    font-size: 1.13rem;
    background: rgba(37,61,120,0.2);
  }
  .place-header .exp-num {
    background: #388ae9;
    color: #fff;
    border-radius: 12px;
    font-size: 0.85rem;
    padding: 2px 12px;
    margin-left: 10px;
    font-weight: 600;
    box-shadow: 0 1.5px 8px #1975ff22;
  }
  .place-header .place-total {
    font-weight: 700;
    color: #3fa7ff;
    font-size: 1.13rem;
    letter-spacing: 0.01em;
    margin-left: auto;
    margin-right: 0.2em;
    text-shadow: 0 1px 9px #3ea3ff33;
    transition: color 0.13s;
  }
  .arrow {
    font-size: 1.1em;
    color: #82afff;
    transition: transform 0.22s;
    margin-left: 0.5em;
    user-select: none;
  }
  .place-header.open .arrow {
    transform: rotate(90deg);
  }
  .place-details {
    padding: 0 1.09rem 1rem 1.09rem;
    animation: expandDown 0.3s cubic-bezier(.48,1.38,.47,1) both;
  }
  @keyframes expandDown {
    0% { opacity:0; transform: translateY(-22px) scaleY(0.92);}
    100% { opacity:1; transform: translateY(0) scaleY(1);}
  }
  .expenses-list {
    margin: 0.2rem 0 0.6rem 0;
    padding: 0;
    list-style: none;
  }
  .expense-entry {
    display: flex;
    align-items: center;
    font-size: 1.01rem;
    padding: 0.38rem 0.12rem;
    border-bottom: 1px solid #2a3783;
  }
  .expense-entry:last-child { border-bottom: none; }
  .expense-desc {
    flex: 1;
    color: #b6dfff;
  }
  .expense-amt {
    color: #3cf5bb;
    font-weight: 700;
    margin-right: 8px;
    min-width: 54px;
    text-align:right;
  }

  .add-expense-form {
    display: flex;
    gap: 0.6rem;
    margin-top: 0.17rem;
    margin-bottom: 0.16rem;
    flex-wrap: wrap;
  }
  .add-expense-form input[type="text"], .add-expense-form input[type="number"] {
    padding: 0.45rem 0.75rem;
    font-size: 1rem;
    border-radius: 10px;
    border: none;
    outline: none;
    background: rgba(49,83,176,0.17);
    color: #eaf6ff;
    box-shadow: 0 0 6px #2745b322 inset;
    margin: 2px 0;
    flex: 1 1 110px;
    min-width: 70px;
    transition: background 0.17s;
  }
  .add-expense-form input[type="text"]:focus,
  .add-expense-form input[type="number"]:focus {
    background: rgba(78,137,245,0.15);
  }
  .add-expense-form button {
    background: linear-gradient(90deg,#1ef1d1,#43d5ff 80%);
    color: #193364;
    font-weight: 700;
    font-size: 1.02rem;
    padding: 0.45rem 1rem;
    border: none;
    border-radius: 11px;
    cursor: pointer;
    margin: 2px 0;
    box-shadow: 0 1px 16px #48cfdc48;
    transition: background 0.18s, box-shadow 0.19s;
  }
  .add-expense-form button:hover,
  .add-expense-form button:focus {
    background: linear-gradient(90deg,#2af1ef,#38e6ad 100%);
    outline: none;
    box-shadow: 0 3px 16px #3feecb64;
  }
  .overall-total {
    max-width: 460px;
    margin: 35px auto 0 auto;
    text-align: center;
    font-size: 1.33rem;
    color: #5be5f4;
    font-weight: 800;
    letter-spacing: 0.03em;
    text-shadow: 0 2px 16px #15e6e7bb;
    user-select: none;
  }
  @media (max-width: 500px){
    h1 { font-size: 1.4rem; }
    .main-card { padding: 0.6rem 0.3rem; }
    .place-header { font-size: 1rem; padding: 0.8rem 0.5rem;}
    .place-details { padding: 0 0.6rem 1rem 0.6rem;}
    .overall-total { font-size: 1.04rem; padding: 0.5rem;}
    .add-place-form, .add-expense-form {flex-direction: column; gap: 0.5rem;}
    .add-place-form input, .add-expense-form input {width: 100%;}
  }
</style>
</head>
<body>
    <header>
 
    <img src="logo.png" alt="App Logo" class="logo">
      <nav>
      <a href="home.html">Home</a>
      <a href="bucket.html">Bucket List</a>
      <a href="events.html">Event Manager</a>
      <a href="community.html">Community</a>
      <a href="expense-tracker.html">Expense Tracking</a>

      <a href="weather.html">Weather Insights</a>
      <a href="alert.html">Alerts</a>
      <a href="https://cdn.botpress.cloud/webchat/v3.3/shareable.html?configUrl=https://files.bpcontent.cloud/2025/07/14/08/20250714085027-U59VKKK0.json">TourEast Helper</a>
    </nav>
  </header>
<h1>Expense Calculator</h1>
<div class="main-card">
  <form id="addPlaceForm" class="add-place-form" autocomplete="off">
    <input type="text" id="placeInput" placeholder="Add new place (eg: Mumbai trip)" aria-label="Add new place" required />
    <button type="submit">Add Place</button>
  </form>
  <div class="places-list" id="placesContainer"></div>
</div>
<div class="overall-total" id="overallTotal">Overall Total: ₹0.00</div>
<script>
const placesContainer = document.getElementById('placesContainer');
const addPlaceForm = document.getElementById('addPlaceForm');
const placeInput = document.getElementById('placeInput');
const overallTotal = document.getElementById('overallTotal');

let places = JSON.parse(localStorage.getItem('expensePlaces') || '[]');

function formatCurrency(num) {
  return '₹' + num.toFixed(2);
}

function calculatePlaceTotal(place) {
  return place.expenses.reduce((sum, exp) => sum + exp.amount, 0);
}

function calculateOverallTotal() {
  return places.reduce((sum, place) => sum + calculatePlaceTotal(place), 0);
}

function savePlaces() {
  localStorage.setItem('expensePlaces', JSON.stringify(places));
}

function renderPlaces() {
  placesContainer.innerHTML = '';
  places.forEach((place, idx) => {
    const card = document.createElement('div');
    card.className = 'place-card';

    const header = document.createElement('div');
    header.className = 'place-header';
    header.innerHTML = `
      <span>${place.name} <span class="exp-num">${place.expenses.length}</span></span>
      <span class="place-total">${formatCurrency(calculatePlaceTotal(place))}</span>
      <span class="arrow">&#9654;</span>
    `;

    const details = document.createElement('div');
    details.className = 'place-details';
    details.style.display = 'none';

    // Expense List
    const expenseUL = document.createElement('ul');
    expenseUL.className = 'expenses-list';
    place.expenses.forEach(exp =>
      expenseUL.innerHTML += `<li class="expense-entry"><span class="expense-desc">${exp.desc}</span><span class="expense-amt">${formatCurrency(exp.amount)}</span></li>`
    );

    // Add Expense Form
    const addExpForm = document.createElement('form');
    addExpForm.className = 'add-expense-form';
    addExpForm.innerHTML = `
      <input type="text" placeholder="Description" aria-label="Expense description" required/>
      <input type="number" min="0" step="0.01" placeholder="Amount" aria-label="Expense amount" required/>
      <button type="submit">Add</button>
    `;
    addExpForm.onsubmit = (e) => {
      e.preventDefault();
      const desc = addExpForm.querySelector('input[type="text"]').value.trim();
      const amt = parseFloat(addExpForm.querySelector('input[type="number"]').value);
      if(!desc) { alert('Please enter a description'); return;}
      if(isNaN(amt) || amt <= 0){ alert('Please enter a valid amount'); return;}
      places[idx].expenses.push({desc, amount: amt});
      savePlaces();
      renderPlaces();
    };

    details.appendChild(expenseUL);
    details.appendChild(addExpForm);

    header.addEventListener('click', () => {
      const expanded = details.style.display === 'block';
      details.style.display = expanded ? 'none' : 'block';
      header.classList.toggle('open', !expanded);
    });

    card.appendChild(header);
    card.appendChild(details);
    placesContainer.appendChild(card);
  });
  overallTotal.textContent = 'Overall Total: ' + formatCurrency(calculateOverallTotal());
}

addPlaceForm.onsubmit = (e) => {
  e.preventDefault();
  const name = placeInput.value.trim();
  if(!name) return;
  places.push({name, expenses: []});
  savePlaces();
  placeInput.value = '';
  renderPlaces();
};

renderPlaces();
</script>
</body>
</html>
